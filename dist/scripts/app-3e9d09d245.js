/******/!function(t){function e(n){if(o[n])return o[n].exports;var a=o[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}// webpackBootstrap
/******/
var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";var n=o(1),a=o(2),i=o(3),l=o(4),r=o(5),d=o(6),s=o(7),u=o(8),c=o(9),m=o(10),h=o(11),g=o(12);angular.module("tollminderAdmin",["ngSanitize","ngMessages","ui.router","ngMaterial","toastr","md.data.table"]).constant("API","http://localhost:7000").config(n.config).config(a.routerConfig).run(i.runBlock).controller("RoadsController",l.RoadsController).controller("RoadController",r.RoadController).controller("NewRoadController",d.NewRoadController).controller("NewWayPointController",s.NewWayPointController).controller("WayPointController",u.WayPointController).controller("NewTollPointController",c.NewTollPointController).service("RoadService",m.RoadService).service("WayPointService",h.WayPointService).service("TollPointService",g.TollPointService)},function(t,e){"use strict";function o(t,e,o){"ngInject";t.debugEnabled(!0),o.theme("default").primaryPalette("blue-grey"),e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!0,e.progressBar=!0}o.$inject=["$logProvider","toastrConfig","$mdThemingProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.config=o},function(t,e){"use strict";function o(t,e){"ngInject";t.state("home",{url:"/",templateUrl:"app/roads/roads.html",controller:"RoadsController",controllerAs:"roads"}).state("road",{url:"/road/{_id}",templateUrl:"app/road/road.html",controller:"RoadController",controllerAs:"road"}).state("wayPoint",{url:"/wayPoint/{_id}",templateUrl:"app/wayPoint/wayPoint.html",controller:"WayPointController",controllerAs:"wayPoint"}),e.otherwise("/")}o.$inject=["$stateProvider","$urlRouterProvider"],Object.defineProperty(e,"__esModule",{value:!0}),e.routerConfig=o},function(t,e){"use strict";function o(t){"ngInject";t.debug("runBlock end")}o.$inject=["$log"],Object.defineProperty(e,"__esModule",{value:!0}),e.runBlock=o},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.RoadsController=function(){function t(e,n,a,i){"ngInject";o(this,t),this.dialog=e,this.log=n,this.Road=a,this.state=i,this.roads=[],this.query={order:"name",limit:30,page:1},this.getRoads()}return t.$inject=["$mdDialog","$log","RoadService","$state"],n(t,[{key:"getRoads",value:function(){var t=this;this.Road.get().then(function(e){return t.roads=e.data})["catch"](this.log.debug)}},{key:"showModal",value:function(t){this.dialog.show({controller:"NewRoadController",controllerAs:"dialog",templateUrl:"app/modals/newRoad.html",targetEvent:t,clickOutsideToClose:!0})}},{key:"remove",value:function(t){var e=this,o=this.dialog.confirm().title("Are you sure?").textContent("Would you like to delete this road?").ok("Yes").cancel("No");this.dialog.show(o).then(function(){return e.Road.remove(t)}).then(function(){return e.state.reload()})["catch"](function(){return e.log.debug("canceled")})}}]),t}()},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.RoadController=function(){function t(e,n,a,i){"ngInject";o(this,t),this.dialog=e,this.log=n,this.state=i,this.road={},this.getRoads(a)}return t.$inject=["$mdDialog","$log","RoadService","$state"],n(t,[{key:"getRoads",value:function(t){var e=this;t.get(this.state.params._id).then(function(t){t.data._wayPoints=t.data._wayPoints.map(function(t){return t.locationView=t.location.latitude+", "+t.location.longitude,t}),e.road=t.data})["catch"](this.log.debug)}},{key:"showModal",value:function(t){this.dialog.show({controller:"NewWayPointController",controllerAs:"dialog",templateUrl:"app/modals/newWayPoint.html",targetEvent:t,clickOutsideToClose:!0})}}]),t}()},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.NewRoadController=function(){function t(e,n,a,i){"ngInject";o(this,t),this.dialog=e,this.Road=n,this.newRoad={name:""},this.log=i,this.state=a}return t.$inject=["$mdDialog","RoadService","$state","$log"],n(t,[{key:"save",value:function(){var t=this;this.form.$valid&&this.Road.save(this.newRoad).then(function(e){t.log.debug(e),t.dialog.hide(),t.state.reload()})["catch"](this.log.debug)}},{key:"hide",value:function(){this.dialog.hide()}}]),t}()},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.NewWayPointController=function(){function t(e,n,a,i){"ngInject";o(this,t),this.dialog=e,this.WayPoint=n,this.log=i,this.state=a,this.newWayPoint={_tollRoad:this.state.params._id,name:"",location:{latitude:0,longitude:0}}}return t.$inject=["$mdDialog","WayPointService","$state","$log"],n(t,[{key:"save",value:function(){var t=this;this.form.$valid&&this.WayPoint.save(this.newWayPoint).then(function(e){t.log.debug(e),t.dialog.hide(),t.state.reload()})["catch"](this.log.debug)}},{key:"hide",value:function(){this.dialog.hide()}}]),t}()},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.WayPointController=function(){function t(e,n,a,i){"ngInject";o(this,t),this.dialog=e,this.log=n,this.WayPoint=a,this.state=i,this.tollPoints=[],this.query={order:"name",limit:30,page:1},this.getTollPoints()}return t.$inject=["$mdDialog","$log","WayPointService","$state"],n(t,[{key:"getTollPoints",value:function(){var t=this;this.WayPoint.get(this.state.params._id).then(function(e){e.data._tollPoints=e.data._tollPoints.map(function(t){return t.locationView=t.location.latitude+", "+t.location.longitude,t}),t.wayPoint=e.data})["catch"](this.log.debug)}},{key:"showModal",value:function(t){this.dialog.show({controller:"NewTollPointController",controllerAs:"dialog",templateUrl:"app/modals/newTollPoint.html",targetEvent:t,clickOutsideToClose:!0})}},{key:"remove",value:function(t){var e=this,o=this.dialog.confirm().title("Are you sure?").textContent("Would you like to delete this way point?").ok("Yes").cancel("No");this.dialog.show(o).then(function(){return e.wayPoint.remove(t)}).then(function(){return e.state.reload()})["catch"](function(){return e.log.debug("canceled")})}}]),t}()},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.NewTollPointController=function(){function t(e,n,a,i){"ngInject";o(this,t),this.dialog=e,this.TollPoint=n,this.log=i,this.state=a,this.actions=["entrance","bridge","exit"],this.newTollPoint={_wayPoint:this.state.params._id,name:"",location:{latitude:0,longitude:0},action:"exit"}}return t.$inject=["$mdDialog","TollPointService","$state","$log"],n(t,[{key:"save",value:function(){var t=this;this.form.$valid&&this.TollPoint.save(this.newTollPoint).then(function(e){t.log.debug(e),t.dialog.hide(),t.state.reload()})["catch"](this.log.debug)}},{key:"hide",value:function(){this.dialog.hide()}}]),t}()},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.RoadService=function(){function t(e,n){"ngInject";o(this,t),this.API=n,this.http=e}return t.$inject=["$http","API"],n(t,[{key:"save",value:function(t){return this.http.post(this.API+"/tollRoad/",t)}},{key:"get",value:function(t){return t?this.http.get(this.API+"/tollRoad/"+t):this.http.get(this.API+"/tollRoad")}},{key:"remove",value:function(t){return this.http["delete"](this.API+"/tollRoad/"+t)}}]),t}()},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.WayPointService=function(){function t(e,n){"ngInject";o(this,t),this.API=n,this.http=e}return t.$inject=["$http","API"],n(t,[{key:"save",value:function(t){return this.http.post(this.API+"/wayPoint/",t)}},{key:"get",value:function(t){return t?this.http.get(this.API+"/wayPoint/"+t):this.http.get(this.API+"/wayPoint")}}]),t}()},function(t,e){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}();e.TollPointService=function(){function t(e,n){"ngInject";o(this,t),this.API=n,this.http=e}return t.$inject=["$http","API"],n(t,[{key:"save",value:function(t){return this.http.post(this.API+"/tollPoint/",t)}},{key:"get",value:function(t){return t?this.http.get(this.API+"/tollPoint/"+t):this.http.get(this.API+"/tollPoint")}}]),t}()}]),angular.module("tollminderAdmin").run(["$templateCache",function(t){t.put("app/road/road.html",'<div class=wrapper><md-button ui-sref=home>to road list</md-button><div layout=row layout-align="space-between center"><div><h2>Road: {{road.road.name}}</h2><i>Created at: {{road.road.createdAt | date}}</i><br><i ng-show=road.road.updatedAt>Last update: {{road.road.updatedAt | date}}</i></div><md-button class=create ng-click=road.showModal()>Create new Way Point</md-button></div><hr><table md-table><thead md-head><tr md-row><th md-column><span>Way Point</span></th><th md-column><span>Location</span></th><th md-column md-numeric><span>Toll Points</span></th><th md-column md-numeric><span></span></th></tr></thead><tbody md-body><tr md-row ng-repeat="waypoint in road.road._wayPoints"><td md-cell><a ui-sref="wayPoint({_id: waypoint._id})">{{waypoint.name}}</a></td><td md-cell>{{waypoint.locationView}}</td><td md-cell>{{waypoint._tollPoints.length}}</td><td md-cell><md-button class=md-icon-button><i class="fa fa-edit" aria-hidden=true></i></md-button><md-button class=md-icon-button><i class="fa fa-trash-o" aria-hidden=true></i></md-button></td></tr></tbody></table></div>'),t.put("app/modals/newRoad.html","<md-dialog><form name=dialog.form ng-submit=dialog.save() novalidate><md-toolbar><div class=md-toolbar-tools><h3>Create new road</h3><span flex></span><md-button class=md-icon-button ng-click=dialog.hide()>&#10005</md-button></div></md-toolbar><md-dialog-content><div class=md-dialog-content><md-input-container><label>Road name</label><input type=text name=name ng-model=dialog.newRoad.name required><div ng-messages=dialog.form.name.$error multiple md-auto-hide=true><div ng-message=required>The road can not be an unnamed</div></div></md-input-container></div></md-dialog-content><md-dialog-actions class=modal-buttons layout=row><md-button ng-click=dialog.hide()>Cancel</md-button><md-button type=submit>Save</md-button></md-dialog-actions></form></md-dialog>"),t.put("app/modals/newTollPoint.html",'<md-dialog><form name=dialog.form ng-submit=dialog.save() novalidate><md-toolbar><div class=md-toolbar-tools><h3>Create new toll point</h3><span flex></span><md-button class=md-icon-button ng-click=dialog.hide()>&#10005</md-button></div></md-toolbar><md-dialog-content class=modal-waypoint><div class=md-dialog-content><md-input-container><label>Toll Point name</label><input type=text name=name ng-model=dialog.newTollPoint.name required><div ng-messages=dialog.form.name.$error multiple md-auto-hide=true><div ng-message=required>The toll point can not be an unnamed</div></div></md-input-container><md-input-container><label>Latitude</label><input type=number name=latitude ng-model=dialog.newTollPoint.location.latitude required><div ng-messages=dialog.form.latitude.$error multiple md-auto-hide=true><div ng-message=required>This field is required</div></div></md-input-container><md-input-container><label>Longitude</label><input type=number name=longitude ng-model=dialog.newTollPoint.location.longitude required><div ng-messages=dialog.form.longitude.$error multiple md-auto-hide=true><div ng-message=required>This field is required</div></div></md-input-container><md-input-container style="width: 100%"><label>Action</label><md-select ng-model=dialog.newTollPoint.action name=action required class=capitalize><md-option ng-repeat="action in dialog.actions" ng-value=action class=capitalize>{{action}}</md-option></md-select><div ng-messages=dialog.form.action.$error multiple md-auto-hide=true><div ng-message=required>This field is required</div></div></md-input-container></div></md-dialog-content><md-dialog-actions class=modal-buttons layout=row><md-button ng-click=dialog.hide()>Cancel</md-button><md-button type=submit>Save</md-button></md-dialog-actions></form></md-dialog>'),t.put("app/modals/newWayPoint.html","<md-dialog><form name=dialog.form ng-submit=dialog.save() novalidate><md-toolbar><div class=md-toolbar-tools><h3>Create new way point</h3><span flex></span><md-button class=md-icon-button ng-click=dialog.hide()>&#10005</md-button></div></md-toolbar><md-dialog-content class=modal-waypoint><div class=md-dialog-content><md-input-container><label>Way Point name</label><input type=text name=name ng-model=dialog.newWayPoint.name required><div ng-messages=dialog.form.name.$error multiple md-auto-hide=true><div ng-message=required>The way point can not be an unnamed</div></div></md-input-container><md-input-container><label>Latitude</label><input type=number name=latitude ng-model=dialog.newWayPoint.location.latitude required><div ng-messages=dialog.form.latitude.$error multiple md-auto-hide=true><div ng-message=required>This field is required</div></div></md-input-container><md-input-container><label>Longitude</label><input type=number name=longitude ng-model=dialog.newWayPoint.location.longitude required><div ng-messages=dialog.form.longitude.$error multiple md-auto-hide=true><div ng-message=required>This field is required</div></div></md-input-container></div></md-dialog-content><md-dialog-actions class=modal-buttons layout=row><md-button ng-click=dialog.hide()>Cancel</md-button><md-button type=submit>Save</md-button></md-dialog-actions></form></md-dialog>"),t.put("app/roads/roads.html",'<div class=wrapper><div><md-button class=create ng-click=roads.showModal()>Create new Toll Road</md-button></div><table md-table><thead md-head md-order=roads.query.order md-on-reorder=roads.getRoads><tr md-row><th md-column><span>Toll Road</span></th><th md-column md-numeric><span>Way Points</span></th><th md-column md-numeric><span></span></th></tr></thead><tbody md-body><tr md-row ng-repeat="road in roads.roads"><td md-cell><a ui-sref="road({_id: road._id})">{{road.name}}</a></td><td md-cell>{{road._wayPoints.length}}</td><td md-cell><md-button class=md-icon-button><i class="fa fa-edit" aria-hidden=true></i></md-button><md-button class=md-icon-button ng-click=roads.remove(road._id)><i class="fa fa-trash-o" aria-hidden=true></i></md-button></td></tr></tbody></table><md-table-pagination md-limit=roads.query.limit md-limit-options=[20,35,50] md-page=roads.query.page md-total={{roads.roads.length}} md-on-paginate=roads.getRoads md-page-select></md-table-pagination></div>'),t.put("app/wayPoint/wayPoint.html",'<div class=wrapper><md-button ui-sref="road({_id: wayPoint.wayPoint._tollRoad._id})">to <strong>{{wayPoint.wayPoint._tollRoad.name}}</strong></md-button><div layout=row layout-align="space-between center"><div><h2>Way Point: {{wayPoint.wayPoint.name}}</h2><i>Created at: {{wayPoint.wayPoint.createdAt | date}}</i><br><i ng-show=wayPoint.wayPoint.updatedAt>Last update: {{wayPoint.wayPoint.updatedAt | date}}</i></div><md-button class=create ng-click=wayPoint.showModal()>Create new Toll Point</md-button></div><hr><table md-table><thead md-head><tr md-row><th md-column><span>Toll Point</span></th><th md-column><span>Location</span></th><th md-column><span>Action</span></th><th md-column>Last update</th><th md-column md-numeric><span></span></th></tr></thead><tbody md-body><tr md-row ng-repeat="tollPoint in wayPoint.wayPoint._tollPoints"><td md-cell>{{tollPoint.name}}</td><td md-cell>{{tollPoint.locationView}}</td><td md-cell class=capitalize>{{tollPoint.action}}</td><td md-cell>{{tollPoint.updatedAt || tollPoint.createdAt | date}}</td><td md-cell><md-button class=md-icon-button><i class="fa fa-edit" aria-hidden=true></i></md-button><md-button class=md-icon-button><i class="fa fa-trash-o" aria-hidden=true></i></md-button></td></tr></tbody></table></div>')}]);
//# sourceMappingURL=../maps/scripts/app-3e9d09d245.js.map
